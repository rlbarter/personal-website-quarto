{"title":"A quick guide to developing a reproducible and consistent data science workflow","markdown":{"yaml":{"title":"A quick guide to developing a reproducible and consistent data science workflow","author":"Rebecca Barter","format":{"html":{"toc":true,"toc-location":"left"}},"categories":["data science","workflow","reproducibility"],"date":"2019-03-23","description":"When you're learning to code and perform data analysis, it can be overwhelming to figure out how to structure your projects. To help data scientists develop a reproducible and consistent workflow, I've put together a short document with some guiding advice."},"headingText":"Reproducbility workflow","containsRefs":false,"markdown":"\n\nWhen you're learning to code and perform data analysis, it can be overwhelming to figure out how to structure your projects. To help data scientists develop a reproducible and consistent workflow, I've put together a short GitHub-based document with some guiding advice: [https://github.com/rlbarter/reproducibility-workflow](https://github.com/rlbarter/reproducibility-workflow)\n\nIf you're interested in contributing or improving this document, please get in touch, or even better, submit a pull request [https://github.com/rlbarter/reproducibility-workflow](https://github.com/rlbarter/reproducibility-workflow)!\n\nThe document as of writing is shown below.\n\n\nEvery project should consist of a single well structured directory with meaningful subdirectories. Every project should be its own git repository that is hosted on GitHub.\n\nData cleaning and analyses should be carefully documented in a Jupyter Notebook or R markdown file and should be created with reproducibility in mind. Everyone on the team (and future you) should be able to re-create what you have performed.\n\nThe overall purpose is to have an organized project structure in place so that the project is easily approachable to many different individuals.\n\n> Someone unfamiliar with your project should be able to look at your computer files and understand in detail what you did and why - Bill Noble\n\nAn example of a reproducible project that follows this workflow lives in the [project_example/](https://github.com/rlbarter/reproducibility-workflow/tree/master/project_example) folder.\n\n### Project Structure\n\nThe project will typically consist of the following subdirectories:\n\n#### Data\n\nOriginal raw data files data should be backed up on something like Google Drive, Dropbox or Box. The raw data itself should never be touched manually. Instead, you should have scripts or notebooks that load the raw data into an R or Python environment for in-environment data manipulation (this will not modify the raw data files themselves).\n\nAny data that is produced by code should be saved in the `data/processed_data/` subdirectory.\n\n#### Documents\n\nThis is a good place to keep meeting notes, data dictionaries, and any other associated materials.\n\n\n#### Code\n\nThere are three types of code documents:\n\n1. **Function scripts** (.R, .py): scripts that contain reusable functions that will be called in the action scripts below (and possibly in the exploration notebooks). By convention, function scripts are given the name `xx_funs_yy.R`, where `xx` is a number and `yy` describes what the functions are for (e.g. `01_funs_clean_data.R`).\n\n1. **Action scripts** (.R, .py): scripts that perform activities such as a detailed data cleaning pipeline, or running many models. Often these scripts will load in data, do something to it (e.g. clean it or fit a model to it) and will then save a new object (such as a cleaned dataset or model results). By convention, action scripts are given the name `xx_do_yy.R`, where `xx` is a number and `yy` describes what action is undertaken by running the script (e.g. `01_do_clean_data.R`).\n\n1. **Exploration notebooks** (.Rmd, .ipynb): R Markdown or Jupyter notebook files that are used to produce figures and explanatory files that contain figures and explanations of data cleaning steps and results of analyses. These are the files that an external viewer would find useful to understand your data and analysis.\n\nScripts that are run sequentially are numbered accordingly. An example of a project structure is shown below. Note that in the example below the functions folder is nested as a subdirectory of the scripts folder which contains the actionable scripts. This makes sense when the functions are only called in the actionable scripts (but not in the exploration notebooks).\n\n\n```\nproject\n│   README.md\n└───data/\n│       └───raw_data/\n│           │   data_orig.csv\n│       └───processed_data/\n│           │   data_clean.csv\n│       └───results/\n│           │   model_results.csv\n└───documents/\n│       meeting_notes.md\n│       data_dictionary.md\n└───code/\n│       └───exploration/\n│           │   01_data_exploration.Rmd\n│           │   02_model_results.Rmd\n│       └───scripts/\n│           │   01_do_clean_data.R\n│           │   02_do_model_data.R\n│           └───functions/\n│               │   01_funs_clean_data.R\n│               │   02_funs_model_data.R\n\n```\n\n### Syntax and conventions\n\nAll filenames are always lowercase and use underscores to separate words.\n\nCode should follow an appropriate style guide:\n\n- R: [Tidyverse Style Guide](https://style.tidyverse.org/) (based on the R Google Style Guide)\n- Python: [Google Style Guide](https://google.github.io/styleguide/pyguide.html)\n\n\n### Resources\n\n- I wrote a much more detailed blog post on my workflow a few years ago that can be found here: [http://www.rebeccabarter.com/blog/2017-08-16-data-science-workflow/](http://www.rebeccabarter.com/blog/2017-08-16-data-science-workflow/). My workflow has changed a bit since then, but the underlying ideas are all more or less the same.\n\n- William Noble's article on organizing computational biology projects: [https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424)\n\n- Marwick, Boettiger and Mullen's article on packaging data analytical work reproducibly: [https://ro.uow.edu.au/cgi/viewcontent.cgi?article=6445&context=smhpapers](https://ro.uow.edu.au/cgi/viewcontent.cgi?article=6445&context=smhpapers)\n\n### Acknowledgements\n\nThanks very much to Ciera Martinez for sharing her [project workflow](https://github.com/DiscoveryDNA/team_neural_network/blob/master/data_managment.md).\n\nI'd also like to acknowledge the *Meta Research and Best Practices* working group (formerly the *Reproducility working group*) at the Berkeley Institute for Data Science (BIDS) for insightful discussions that have helped me form my own workflow over the years.\n\n","srcMarkdownNoYaml":"\n\nWhen you're learning to code and perform data analysis, it can be overwhelming to figure out how to structure your projects. To help data scientists develop a reproducible and consistent workflow, I've put together a short GitHub-based document with some guiding advice: [https://github.com/rlbarter/reproducibility-workflow](https://github.com/rlbarter/reproducibility-workflow)\n\nIf you're interested in contributing or improving this document, please get in touch, or even better, submit a pull request [https://github.com/rlbarter/reproducibility-workflow](https://github.com/rlbarter/reproducibility-workflow)!\n\nThe document as of writing is shown below.\n\n## Reproducbility workflow\n\nEvery project should consist of a single well structured directory with meaningful subdirectories. Every project should be its own git repository that is hosted on GitHub.\n\nData cleaning and analyses should be carefully documented in a Jupyter Notebook or R markdown file and should be created with reproducibility in mind. Everyone on the team (and future you) should be able to re-create what you have performed.\n\nThe overall purpose is to have an organized project structure in place so that the project is easily approachable to many different individuals.\n\n> Someone unfamiliar with your project should be able to look at your computer files and understand in detail what you did and why - Bill Noble\n\nAn example of a reproducible project that follows this workflow lives in the [project_example/](https://github.com/rlbarter/reproducibility-workflow/tree/master/project_example) folder.\n\n### Project Structure\n\nThe project will typically consist of the following subdirectories:\n\n#### Data\n\nOriginal raw data files data should be backed up on something like Google Drive, Dropbox or Box. The raw data itself should never be touched manually. Instead, you should have scripts or notebooks that load the raw data into an R or Python environment for in-environment data manipulation (this will not modify the raw data files themselves).\n\nAny data that is produced by code should be saved in the `data/processed_data/` subdirectory.\n\n#### Documents\n\nThis is a good place to keep meeting notes, data dictionaries, and any other associated materials.\n\n\n#### Code\n\nThere are three types of code documents:\n\n1. **Function scripts** (.R, .py): scripts that contain reusable functions that will be called in the action scripts below (and possibly in the exploration notebooks). By convention, function scripts are given the name `xx_funs_yy.R`, where `xx` is a number and `yy` describes what the functions are for (e.g. `01_funs_clean_data.R`).\n\n1. **Action scripts** (.R, .py): scripts that perform activities such as a detailed data cleaning pipeline, or running many models. Often these scripts will load in data, do something to it (e.g. clean it or fit a model to it) and will then save a new object (such as a cleaned dataset or model results). By convention, action scripts are given the name `xx_do_yy.R`, where `xx` is a number and `yy` describes what action is undertaken by running the script (e.g. `01_do_clean_data.R`).\n\n1. **Exploration notebooks** (.Rmd, .ipynb): R Markdown or Jupyter notebook files that are used to produce figures and explanatory files that contain figures and explanations of data cleaning steps and results of analyses. These are the files that an external viewer would find useful to understand your data and analysis.\n\nScripts that are run sequentially are numbered accordingly. An example of a project structure is shown below. Note that in the example below the functions folder is nested as a subdirectory of the scripts folder which contains the actionable scripts. This makes sense when the functions are only called in the actionable scripts (but not in the exploration notebooks).\n\n\n```\nproject\n│   README.md\n└───data/\n│       └───raw_data/\n│           │   data_orig.csv\n│       └───processed_data/\n│           │   data_clean.csv\n│       └───results/\n│           │   model_results.csv\n└───documents/\n│       meeting_notes.md\n│       data_dictionary.md\n└───code/\n│       └───exploration/\n│           │   01_data_exploration.Rmd\n│           │   02_model_results.Rmd\n│       └───scripts/\n│           │   01_do_clean_data.R\n│           │   02_do_model_data.R\n│           └───functions/\n│               │   01_funs_clean_data.R\n│               │   02_funs_model_data.R\n\n```\n\n### Syntax and conventions\n\nAll filenames are always lowercase and use underscores to separate words.\n\nCode should follow an appropriate style guide:\n\n- R: [Tidyverse Style Guide](https://style.tidyverse.org/) (based on the R Google Style Guide)\n- Python: [Google Style Guide](https://google.github.io/styleguide/pyguide.html)\n\n\n### Resources\n\n- I wrote a much more detailed blog post on my workflow a few years ago that can be found here: [http://www.rebeccabarter.com/blog/2017-08-16-data-science-workflow/](http://www.rebeccabarter.com/blog/2017-08-16-data-science-workflow/). My workflow has changed a bit since then, but the underlying ideas are all more or less the same.\n\n- William Noble's article on organizing computational biology projects: [https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424)\n\n- Marwick, Boettiger and Mullen's article on packaging data analytical work reproducibly: [https://ro.uow.edu.au/cgi/viewcontent.cgi?article=6445&context=smhpapers](https://ro.uow.edu.au/cgi/viewcontent.cgi?article=6445&context=smhpapers)\n\n### Acknowledgements\n\nThanks very much to Ciera Martinez for sharing her [project workflow](https://github.com/DiscoveryDNA/team_neural_network/blob/master/data_managment.md).\n\nI'd also like to acknowledge the *Meta Research and Best Practices* working group (formerly the *Reproducility working group*) at the Berkeley Institute for Data Science (BIDS) for insightful discussions that have helped me form my own workflow over the years.\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"2019-03-07_reproducible_pipeline.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.56","theme":"simplex","linkcolor":"#6633c4","code-copy":true,"footnotes-hover":true,"title-block-banner":true,"comments":{"utterances":{"repo":"rlbarter/blog_comments"}},"title":"A quick guide to developing a reproducible and consistent data science workflow","author":"Rebecca Barter","categories":["data science","workflow","reproducibility"],"date":"2019-03-23","description":"When you're learning to code and perform data analysis, it can be overwhelming to figure out how to structure your projects. To help data scientists develop a reproducible and consistent workflow, I've put together a short document with some guiding advice.","toc-location":"left"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}